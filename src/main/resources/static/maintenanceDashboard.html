<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment History and Maintenance Dashboard</title>
<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<!-- jQuery -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- Custom JavaScript -->
<script src="scriptsJquery.js"></script>
</head>

<body>

	<div class="container">
		<div class="row mt-4">
			<div class="col">
				<h2>Select Flat Number:</h2>
				<select id="flatNumberSelect" class="form-control"
					onchange="fetchData()">
					<option value="default">Select Flat Number</option>
					<!-- Add more options as needed -->
					<option value="101">101</option>
					<option value="102">102</option>
					<option value="103">103</option>
					<option value="104">104</option>
					<option value="201">201</option>
					<option value="202">202</option>
					<option value="203">203</option>
					<option value="204">204</option>
					<option value="301">301</option>
					<option value="302">302</option>
					<option value="303">303</option>
					<option value="304">304</option>
					<option value="401">401</option>
					<option value="402">402</option>
					<option value="403">403</option>
					<option value="404">404</option>
					<option value="501">501</option>
					<option value="502">502</option>
					<option value="503">503</option>
					<option value="504">504</option>
					<option value="601">601</option>
					<option value="602">602</option>
					<option value="603">603</option>
					<option value="604">604</option>
					<option value="701">701</option>
					<option value="702">702</option>
					<option value="703">703</option>
					<option value="704">704</option>
				</select>
			</div>
		</div>

		<!-- Collapsible Payment History Table -->
		<div class="card mt-4">
			<div class="card-header">
				<h2 class="mb-0">
					<button class="btn btn-link btn-block text-left" type="button"
						data-toggle="collapse" data-target="#paymentHistoryCollapse"
						aria-expanded="true" aria-controls="paymentHistoryCollapse">
						Payment History</button>
				</h2>
			</div>
			<div id="paymentHistoryCollapse" class="collapse show"
				aria-labelledby="paymentHistoryHeading">
				<div>
					<table class="table">
						<thead>
							<tr>
								<th>Year</th>
								<th>Amount</th>
								<th>Flat Type</th>
								<th>Annual Maintenance</th>
								<th>Date</th>
								<th>Payment Method</th>
								<th>Transaction ID</th>
								<th>Verified</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody id="paymentHistoryBody">
							<tr>
								<td colspan="9" class="text-center">Select flat number to
									see data</td>
							</tr>
							<!-- Table rows will be dynamically populated here -->
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<!-- Maintenance Dashboard Table -->
		<div class="card mt-4">
			<div class="card-header">
				<h2 class="mb-0">Maintenance Dashboard</h2>
			</div>
			<div class="card-body">
				<table id="maintenanceDashboardTable" class="table table-striped">
					<thead>
						<tr>
							<th>Flat Type</th>
							<th>Total Paid Till Now</th>
							<th>Paid Till Year</th>
							<th>Annual Maintenance</th>
							<th>Maintenance Outstanding</th>
							<th>Extra Charges</th>
							<th>Total Outstanding</th>
						</tr>
					</thead>
					<tbody id="maintenanceDashboardBody">
						<tr>
							<td colspan="7" class="text-center">Select flat number to
								see data</td>
						</tr>
						<!-- Maintenance dashboard rows will be dynamically populated -->
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<!-- Extra Charges Modal -->
	<div class="modal fade" id="extraChargesModal" tabindex="-1"
		aria-labelledby="extraChargesModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="extraChargesModalLabel">
						Flat Number: <span id="modalFlatNumber"></span> Charges
						Illustration
					</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<table class="table">
						<thead>
							<tr>
								<th>Charges</th>
								<th>Reason</th>
								<th>Comments</th>
							</tr>
						</thead>
						<tbody id="extraChargesBody">
							<!-- Extra charges rows will be dynamically populated here -->
						</tbody>
					</table>
					<div class="text-right font-weight-bold">
						Total Charges: <span id="totalCharges"></span>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Delete Modal -->
	<div class="modal fade" id="deleteModal" tabindex="-1"
		aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="deleteModalLabel">Delete
						Confirmation</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>Are you sure you want to delete this entry?</p>
					<label for="deleteReasonSelect">Reason:</label> <select
						id="deleteReasonSelect" class="form-control">
						<option value="Accidental Entry">Accidental Entry</option>
						<option value="Duplicate Entry">Duplicate Entry</option>
						<option value="Incorrect Information">Incorrect
							Information</option>
						<option value="Other">Other</option>
					</select>
					<div id="otherReasonInput" style="display: none;">
						<label for="otherReasonText">Other Reason:</label>
						<textarea id="otherReasonText" class="form-control"></textarea>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
				</div>
			</div>
		</div>
	</div>


	<!-- Bootstrap JS and jQuery -->
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>